# Preconditions class

Manager class for the pre/post condition tests of the model's variables (VarInfo objects). This class contains the methods to check the preconditions and the postconditions on the input/outputs/parameters of a model, to identify values which are not valid according to some specified conditions ([`ICondition`](./ICondition.md) implementations).

```csharp
public class Preconditions
```

## Public Members

| name | description |
| --- | --- |
| [Preconditions](Preconditions/Preconditions.md)() | The default constructor. |
| [Info](Preconditions/Info.md)() | Shows the "about" visual form with an help button to open the help file, and another help button to open the code documentation. |
| [TestsOut](Preconditions/TestsOut.md)(…) | Method that manages the output of pre/post conditions tests using an implementation of the design pattern strategy. (2 methods) |
| [VerifyPostconditions](Preconditions/VerifyPostconditions.md)(…) | Tests a collection of post-conditions and returns errors |
| [VerifyPreconditions](Preconditions/VerifyPreconditions.md)(…) | Tests a collection of pre-conditions and returns errors |
| static [RunPrePostConditionTests](Preconditions/RunPrePostConditionTests.md) { get; set; } | Boolean switch to controlling the pre/post conditions test execution: If true: precondition/postcondition tests are performed If false: precondition/postcondition tests are not performed |
| static [StrategyTestsOutput](Preconditions/StrategyTestsOutput.md) { get; set; } | Property to get/set the [`ITestsOutput`](./ITestsOutput.md) implementation for managing the test output format (tab separated, XML, and trace to client listeners provided). |

## Remarks

Example of instruction to execute a precondition test on inputs and parameters of a strategy //define an empty collection of conditions ConditionsCollection cc = new ConditionsCollection(); //define a RangeBasedCondition on an input (a property SoilTemperatureLayer1 belonging to domain class Exogenous) //note that the VarInfo definition of this property is in the VarInfo class associated to the domain class. The domain class is 'Exogenous', so the VarInfo class is 'ExogenousVarInfo' RangeBasedCondition r1 = new RangeBasedCondition(CRA.Diseases.SoilBorne.Interfaces.ExogenousVarInfo.SoilTemperatureLayer1); //if the VarInfoValueType of the property is suitable to the type of condition if(r1.ApplicableVarInfoValueTypes.Contains( CRA.Diseases.SoilBorne.Interfaces.ExogenousVarInfo.SoilTemperatureLayer1.ValueType)) //add the condition to the collection of conditions {cc.AddCondition(r1);} //define a RangeBasedCondition on a parameter of the strategy (parameter MinimumTemperatureForGrowth ) //note that in this case we invoke directly the constructor that creates the RangeBasedCondition using a parameter (VarInfo) cc.AddCondition(new RangeBasedCondition(_modellingOptionsManager.GetParameterByName("MinimumTemperatureForGrowth"))); //define a listener to the precondition errors or use one of the existing listeners like TestsOutputDefault or TestsOutputXML defined in this project ITestsOutput mylistener = new MyListener(); Preconditions.StrategyTestsOutput = mylistener; //Evaluate the precondition test Preconditions pre = new Preconditions(); string callID="Test invoked by component SoilBorne"; string preConditionsResult = pre.VerifyPreconditions(cc, callID); //trace the precondition test results on the listener if (!string.IsNullOrEmpty(preConditionsResult)) { pre.TestsOut(preConditionsResult, true, "PreConditions errors in component SoilBorne"); }

## See Also

* namespace [CRA.ModelLayer.Core](../BioMA.ModelLayer.md)

<!-- DO NOT EDIT: generated by xmldocmd for BioMA.ModelLayer.dll -->
